
//[[clause-reference]]
== From Data to Visualization

Advances in data representation and visualization have revolutionized the way we understand and analyze information. The ability to transform raw data into meaningful visual representations has become increasingly important across various fields, including climate change. The exponential growth of data generated by various sources such as in-situ sensors, EO sensors, and social media has all led to the emergence of big data. Data visualization techniques help in extracting insights, identifying patterns, and making data-driven decisions in the face of vast and complex datasets. Visualization plays a crucial role in exploring, summarizing, and communicating the results of data analysis, making it easier for decision-makers to comprehend complex information. Data visualization enhances storytelling by presenting information in a visually engaging and intuitive manner. It helps convey complex ideas more effectively, enabling clearer communication of data-driven narratives to both technical and non-technical audiences.

Above all, general need for data visualization arises from the complexity and volume of data that is involved with climate change adaptation. Data visualizations are stimulated by the desire for actionable insights, and the importance of clear communication in various domains.

Below we provide some examples of how big data can be visualized in such a way that it captures the impact of climate change on for example vegetation in urban areas, or the impact of of climate change on climate hazards. And how to overcome challenges to realize these visualizations.


=== Visualizing the Impact of Climate Change and Mitigation on Vegetation

One of the biggest challenges in communicating climate change is to tie global changes to the local impact they will have. Photorealistic visualization is a critical component for assessing and communicating the impact of environmental changes, and possibilities for mitigation. For this to work, it is crucial for visualizations to reflect the underlying data accurately and allow for quick iteration. In this regard, manual visualization processes are inferior. As much as possible, visualizations of real-life scenarios should be driven directly by available data of present states and simulations of possible scenarios. Our contribution is a first attempt at doing just that, determining what already works and what doesn't with existing data and technology.

As our contribution to the Climate Resilience Pilot we explored such data-driven high-quality visualizations, focusing on the impact on vegetation. Due to the nature of this being a pilot, we constrained ourselves in terms of coverage area, to account for limited time and to cope with potentially limited data availability. This ensured that we were able to make the full connection from input data to final visualization, drawing valuable conclusions for broader application in the future. This size limitation will allow us to produce meaningful results if data transfer and processing is slow or even if it must be processed in manual or half-automated ways due to inconsistent formatting. It also lets us visualize a high level of detail without having to account too much for the sheer amount of data we could face with very large areas.

We selected a relatively small section of Los Angeles for actual visualization. The rationale behind this choice of location had several components:

 * The given area that will (and already does) see considerable direct impact of climate change through heat, drought, wildfires, etc.
 * It contains different areas of land use (from deeply urban and sub-urban to unmanaged areas).
 * Since it is part of a major metro area, the results will be relevant to a large population base
 * Some known mitigation measures that can be considered for visualization are in place.
 * Other external (non climate change) known influences on vegetation, such as pests, irrigation limitations, known life spans of relevant plant species, etc.) are in play that could be considered.

==== Source Data

Our visualization ties data that is very global together with data that is hyper-local. That means we need to draw on data from a wide variety of sources that are not usually combined. Examples of data sources used for our visualization are:

* Satellite Imagery
* Building Footprints and Heights
* Plant Inventory from Bureau of Street Services and Department of Recreation and Parks
* Results from Climate Models, particularly RPC 4.5 data that was pre-processed for this purpuse by Safe Software as part of their work for this pilot (see the Safe Software ARD component in this document for more details)
* 3D Plant Models from the Laubwerk database
* Plant Metadata to Judge Climate Change Impact on Specific Species through given Environmental factors, also from the Laubwerk database
* Information on local mitigation measures from various sources

==== Results

The aforementioned data sources were combined to create a detailed visualization of the area in question. The pairs of images below show a visualization of the status quo as first image and then a composite of the four scenarios we visualized (one scenario per vertical stripe). The scenarios are projections of possible climate scenarios with and without mitigation measures in place and are in the following order:

. Year 2045 without any mitigation measures. Plants that were likely to die off due to adverse climate events were just removed based on a probability.
. Year 2070 without any mitigation measures with plants removed like in the scenario before.
. Year 2045 with mitigation measures. Plants that were just removed in the two scenarios before have been replaced by plants that are more resilient and are part of the aforementioned initiatives for better climate resilience.
. Year 2070 with mitigation measures with the same replacement logic as in the scenario before.

It should be stressed that these are visualizations of possible outcomes, but there are are many factors that make hard to make exact predictions! This contribution is merely meant as an example of how data could be used to drive scenario-based hyper-local visualization.

{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +
{nbsp} +

.Overview of the Visualized Region (Status Quo)
[img-laubwerk-overview]
image::laubwerk_ogc-crp_230526_v079_jws_2020-camera6.png[]

.Overview of the Visualized Region (Climate Projection With and Without Mitigation Scenarios as Described at the Start of the Results Section
[img-laubwerk-overview-scenarios]
image::laubwerk_ogc-crp_230526_v078_jws_camera6-composite.png[]

.Above the Corner Sunset Blvd and N Curson Ave Looking North-East (Status Quo)
[img-laubwerk-sunset-blvd-n-curson-ave]
image::laubwerk_ogc-crp_230526_v079_jws_2020-camera1.png[]

.Above the Corner Sunset Blvd and N Curson Ave Looking North-East (Climate Projection With and Without Mitigation Scenarios as Described at the Start of the Results Section)
[img-laubwerk-sunset-blvd-n-curson-ave-scenarios]
image::laubwerk_ogc-crp_230526_v079_jws_camera1-composite.png[]

.Corner Franklin Ave And N Sierra Bonita Ave Looking East (Status Quo)
[img-laubwerk-franklin-ave-n-sierra-bonita-ave]
image::laubwerk_ogc-crp_230526_v079_jws_2020-camera2.png[]

.Corner Franklin Ave And N Sierra Bonita Ave Looking East (Climate Projection With and Without Mitigation Scenarios as Described at the Start of the Results Section)
[img-laubwerk-franklin-ave-n-sierra-bonita-ave-scenarios]
image::laubwerk_ogc-crp_230525_v077_jws_camera2-composite.png[]

.Corner Hollywood Blvd And Camino Palmero St Looking Looking North (Status Quo)
[img-laubwerk-hollywood-blvd-camino-palmero-st]
image::laubwerk_ogc-crp_230526_v079_jws_2020-camera3.png[]

.Corner Hollywood Blvd And Camino Palmero St Looking Looking North (Climate Projection With and Without Mitigation Scenarios as Described at the Start of the Results Section)
[img-laubwerk-hollywood-blvd-camino-palmero-st-scenarios]
image::laubwerk_ogc-crp_230525_v077_jws_camera3-composite.png[]

==== Challenges and Learnings

The goal of a visualization like we did is to make data and its implications visible on a hyper-local level. The hope behind this is to turn a large amount of abstract data into something the general public can better judge the very local impact of global changes.

This hyper-locality brings to light a number of problems with the granularity, availability, and machine readability of existing data. Relating to our specific inputs, this means:

* Producing a high fidelity photorealistic 3D model of a specific area is still not easy. Even in an urban area of an industrialized country like we picked (which usually have better data availability), we had to resort to relatively simple elevation data and building footprints. There are solutions for this on the horizon, but general availability is not a given, yet. 3D models based on photogrammetry seem like a promising approach to reach higher fidelity where available, but that generally available datasets like these currently lack classification, so we would not be able to remove and replace vegetation elements. This will probably improve and become more widely available in the near future.
* Information about existing vegetation is of varying quality and completeness. Detailed data is sometimes maintained by different authorities with different scopes. In our case we used data from the https://streetsla.lacity.org/tree-inventory[Bureau of Street Services] as well as the Department of Recreation and Parks. Those datasets have different data layout, different depth and quality of data. OpenStreetMap also sometimes has vegetation data, but coverage and data quality is also problematic. None of the aforementioned really cover individual plants on private property or unmanaged land, which we had to fill in from photogrammetry, satellite imagery, and aerial photography.
* Climate projection data is pretty widely available and generally easy to process in terms of data volume, because the areas a visualization will typically cover is pretty small compared to the resolution of most climate models. What is still a challenge is to turn climate scenario data into properties that are needed to easily model the impact on vegetation, like the probability of extreme drought, heat, or fire events. This was partially addressed by other contributions to this pilot and we expect it to see further improvements.
* Exact data on average plant behavior in the context of relevant climate indicators is extremely patchy. Most data is only qualitatively in nature. Data gathering is complex because of the large number of factors at play when judging health of plants. This is a complex researach topic that will need more work, both to produce more reliable projections based on existing research, but also on how to gather data about or predict plant health more reliably on a large scale.
* Information about climate change mitigation is often not present in a machine readable format. In our specific case, we gathered information manually from publicly available material, mostly websites. Part of the problem here is that several stakeholders are working on mitigation measures, from different local government organizations, over non-profit organizations, to private companies. Examples relevant to our specific example are https://www.cityplants.org/[City Plants] (a non-profit supported by Los Angeles Department of Water and Power) and the https://pw.lacounty.gov/rmd/parkwaytrees/[County of Los Angeles Parkway Trees Program]. This manual way of data gathering obviously will not scale, is prone to data being missed, and has no unified format. All of this makes automated processing next to impossible at the moment.
* There may be further factors that need to be considered, which are not part of any of the existing data sources. In this specific case we have the pretty high average age and also various pests and diseases that the Mexican fan palm (_Washingtonia robusta_), which has become such a distinctive feature of Southern California, especially Los Angeles, is suffering from. While this isn't directly related to climate change, it still needs to be considered for any visualization to be accurate.

As was expected, the data-driven visualization of very local phenomena and changes is a challenging problem which surfaces lots of issues in terms of data availability as well as standardization and compatibility of storage formats.


=== 5D Meta World


Presagis offered the V5D rapid 3D (trial) Digital Twin generation capability to Laubwerk Presagis gathered open source GIS dataset for the Hollywood region in order to match the location of the tree dataset from Laubwerk Using V5D, Presagis created a representative 3D digital twin of the building and terrain.
Presagis imported Laubwerk tree point dataset providing vegetation type information inside V5 Presagis provided V5D Unreal plugin to Laubwerk in order to allow the insertion of the Laubwerk 3D tree (as Unreal assets) into the scene. Using V5D, Laubwerk is capable of adapting the tree model in order to demonstrate the impact of climate change on the city vegetation

Presagis also provided to Laubwerk its V5D AI extracted vegetation dataset in order to complement the existing tree dataset as needed.

.image of the Presagis deliverable to Laubwerk. At this stage, all trees are using the same 3D model (palm tree). Laubwerk will use V5D to assign a representative 3D model based the on point feature attribution accessible in V5D. With V5D, this operation takes seconds to do and visualize the result in 3D.
image::presagis.png[]


=== A Web Application

Decision makers, public authorities, and citizens will primarily access data via a custom ESRI web application, providing a simple dashboard interface for viewing interactive maps and graphs of the indices, and output formatted reports. The indices are grouped by 5 climate hazard types (Wildfire, Heat, Drought, Inland Flooding, Coastal Inundation). The current US project (https://livingatlas.arcgis.com/assessment-tool/explore/details) can be explored to gain context of what the global project will be.

[[esri_project]]
.Climate Mapping For Resilience and Adaptation portal, US project view
image::esri_project.png[esri_project]

[[esri_project_2]]
.Climate Mapping For Resilience and Adaptation portal, showing number of max temperature for the period 2023-2064
image::esri_project_2.png[esri_project_2]

The application also outputs formatted reports by county or census tract summarizing the data in a format easy to share with others.

[[esri_project_3]]
.Application output reports
image::esri_project_3.png[esri_project_3]

For each of those 5 climate hazards there is a corresponding StoryMap to further explain that hazard type, visualize the current and future hazard, and provide links to additional relevant resources.

•	Extreme Heat: https://storymaps.arcgis.com/stories/5e482f11d2514191bb89c20638d98b3c

•	Drought: https://storymaps.arcgis.com/stories/634ee231bb6743b88d23bda96fb838e9

•	Wildfire: https://storymaps.arcgis.com/stories/ae2a8072429643f395f8f509df955ae6

•	Flooding: https://storymaps.arcgis.com/stories/4ea811276aa641018f3a8d4e28585244

•	Coastal Inundation: https://storymaps.arcgis.com/stories/f3ce292c0211400699b6e36985e561a6

=== NOAA's Environmental Data Retrieval API

For the _D100 Client Instance_ deliverable, Ecere enhanced its GNOSIS Cartographer geospatial client to better support visualizing and accessing multi-dimensional datasets, both from local sources and
remote sources such as through OGC API standards. Support for the _OGC API - Environmental Data Retrieval (EDR)_ standard as well as for _OGC netCDF_ was implemented in the GNOSIS Software Development Kit.
The GNOSIS implementation of the https://ecere.com/gmt.pdf[_GNOSIS Map Tiles specification_] was also enhanced as an efficient format to store and exchange n-dimensional coverage tiles, including support for
multiple pressure levels within a single tile packet. A pressure level selector control was added to the user interface, as seen below.

[#ecere_clientPressureLevels,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing 4-dimensional CMIP5 air temperature dataset from GNOSIS Map Server, showing pressure level selector
image::ecere/clientPressureLevels.png[]

[#ecere_edr_client_pressureLevels_humidity,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing 4-dimensional ERA5 relative humidity dataset from GNOSIS Map Server, showing pressure level selector
image::ecere/edr_client_pressureLevels_humidity.png[]

Technology Integration Experiments were performed with NOAA's experimental EDR API deployment, providing feedback to its developers to help achieve conformance to the Standard,
as well as help improving interoperability and usability. The results of visualization experiments with multiple data collections are shown below.

[#ecere_edr_client_tMin_full,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (_nclimgrid-monthly_ collection, minimum daily temperature for January 2014)
image::ecere/edr_client_tMin_full.png[]

[#ecere_edr_client_tMin_2022_full,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (_nclimgrid-monthly_ collection, minimum daily temperature for January 2022)
image::ecere/edr_client_tMin_2022_full.png[]

[#ecere_edr_client_tMax_full,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (_nclimgrid-monthly_ collection, maximum daily temperature for January 2014)
image::ecere/edr_client_tMax_full.png[]

[#ecere_edr_client_tMax_2022_full,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (_nclimgrid-monthly_ collection, maximum daily temperature for January 2022)
image::ecere/edr_client_tMax_2022_full.png[]

[#ecere_edr_client_precipitations_full,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (_nclimgrid-monthly_ collection, precipitations for January 2014)
image::ecere/edr_client_precipitations_full.png[]

[#ecere_edr_client_precipitations_2022_full,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (_nclimgrid-monthly_ collection, precipitations for January 2022)
image::ecere/edr_client_precipitations_2022_full.png[]

[#ecere_edr_client_gddp_tmax,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (NASA CMIP6 Global Daily Downscaled Projections collection, maximum temperature for January 14, 2014)
image::ecere/edr_client_gddp_tmax.png[]

[#ecere_edr_client_gddp_hurs,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (NASA CMIP6 Global Daily Downscaled Projections collection, near-surface relative humidity January 15, 2014)
image::ecere/edr_client_gddp_hurs.png[]

[#ecere_edr_client_gddp_sfcWind,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (NASA CMIP6 Global Daily Downscaled Projections collection, wind speed for January 15, 2014)
image::ecere/edr_client_gddp_sfcWind.png[]

[#ecere_edr_client_livneh_wind,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (NCAR Livneh gridded wind speed for January 15, 2013)
image::ecere/edr_client_livneh_wind.png[]

[#ecere_edr_client_livneh_precipitations,reftext='{figure-caption} {counter:figure-num}']
.Ecere's GNOSIS Cartographer client accessing NOAA's EDR API (NCAR Livneh gridded precipitations for January 15, 2013)
image::ecere/edr_client_livneh_precipitations.png[]
